<!DOCTYPE html>
<html lang="jp" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="MultiClipBoard">
    <meta name="keywords" content="Mulit copy and paste">
    <meta name="author" content="j35tor">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./multiclipReadMe.css">
	  <link id="favicon" rel="icon" type="image/x-icon" href="./multiclip.ico" />
    <title>マルチクリップボード ReadMe</title>
  </head>

<body>
<h2>マルチクリップボード<span style="font-size: 15px; font-family:Arial;
color: #00AADE;"><br />--モバイルのブラウザがメモ帳に早変わり</span> </h2>


<h3>開発の背景</h3>
<a href="#how2play">(お急ぎの方は、こちらをクリックして「遊び方」をご覧ください。)</a><br />
このアプリは、ガジェットウェアとしてスタートし、JavaScriptのスキルを磨くための遊び道具として考えています。ユーザーインターフェースは原始的に見えるかもしれませんが、どうかこのプロジェクトをフォークして、より洗練されたレイアウトを手に入れてください。<p />

また、新しい機能を追加するアイデアがあれば、github上でissueを作成してください。作成頂けましたら開発を検討致します。<p />

ユーザーインターフェースの専門家の中には、このようなソリューションを実装するためにReactJSやAngularJSなどのJavaScriptフロントエンドフレームワークを使うことを好む人もいるかもしれませんが、私はできるだけ依存関係を少なくし、対応する機能のために必要な外部JavaScriptのみを含めることを好みます。

<h3>このウェブアプリの典型的な使用例</h3>

<ol>
<li>Just as phone book keep contact info like phone, email etc.(somebody would say: I already got my address book on mobile, what is the point?  Please don't forget: g&#128083;gle is watching on you...);</li> <br />

<li>ローカルでの保存と読み込みが可能な、シンプルなメモ帳アプリ（このReadMeの一部は、実際にこのウェブアプリを使って入力しています）;</li> <br />

<li>WhatsAppやTelegramなどのインスタントメッセージングアプリでよく使うフレーズを保存しておき、素早くコピー＆ペーストすることができます;</li><br />

<li>リンクやお気に入りをオフラインで保存し、GnuPG/パスワードでリンクを暗号化することで、おせっかいな人に保存されたリンクを見られないようにします（特にポルノサイトに便利です&#128584;）</li><br />

<li>短いテキストメッセージをGnuPGで暗号化するためのクイック＆ダーティなインターフェースとして使う;</li><br />

<li>LinuxのbashシェルのようなCLI（コマンドライン・インターフェース）のユーザーであれば、長いコマンドの簡単な小切手帳になります（これは私も使っています）;</li><br />

<li>Web-hookをトリガーするためによく使うREST APIのURLを保存します</li><br />

</ol>
<h3>本アプリの制限事項</h3>

<ul>

<li>un-do機能（またはctrl-Z）がありません。大きなブロックを選択した後、誤ってキーボードの別のキーを押してしまうと、せっかく入力した文字が1文字になってしまいます。せっかくのタイピングが1文字になってしまうので、こまめに保存しましょう;
</li>
<br />
<li>使いやすさと個人情報の保護の間には究極の矛盾がありますが、このアプリもまた然りです.<br />
<br />
テキストボックスに入力した内容を平文のまま保存しておくと、おせっかいな人に情報を見られてしまうかもしれません。逆に、入力のたびに暗号化を行うと、面倒な作業になるだけでなく、ストレージの容量も増えてしまいます（暗号化されたテキストは、少なくとも20%以上の容量を必要とし、平文の文字列がもっと短ければ、この無駄はさらに増えるでしょう）.</li>
</ul>

<h3>このアプリの概要と内部構造</h3>

現代のほとんどのブラウザでは、個々のWebサイトやURLの設定を保持するために、ローカルブラウザにストレージスペースがあります。通常の環境では、このストレージはサイトごとに分離されており、5MBのストレージサイズを持っています。現在の技術水準からすると、この数字は大したことがないように思えるかもしれませんが（2100万画素の写真画像を生のまま1つのファイルにすると25Mもの容量になります）、これをプレーンなASCII文字で数えると 欽定訳聖書を783,137語（1語あたりの平均文字数を6とする）保存することができます. <p />

このローカルストレージは、Key-Valueペアとして構成されています。これは、このアプリがあなたの入力情報を保存する基本的な方法でもあります。また、プライベート/シークレットモードでは、ページを閉じたときにブラウザがすべてのローカルストレージをダンプしますので、ページを閉じる前にコンテンツをエクスポートすることをおすすめします（エクスポートについては後ほど説明します）<p />

しかし、このアプリを通常の/非プライベートブラウジングで使用した場合、保存されたコンテンツは、意図的に消去しない限り、ブラウザ内に保持されます.<p />

KeyとValueのペアがどのように保存されるかについての議論に戻ると、次のような図式を想像することができます：このローカルストレージバスケットに情報を入力し続けると、特定の保存された値やアイテムを取得する必要があるときに、多くのKeyが必要となる状況になります。そこで、Keyを整理するために「ページ」を追加しました.<p />

あなたの情報はストレージに平文で保存されているので、もし誰かがあなたのデバイスでブラウザをポップアップしてこのサイトにナビゲートすれば、その見知らぬ人は保存されている情報をすべて読んでしまいます。このようにして、パスワードの暗号化はあなたを助けてくれるのです。しかし、注意していただきたいのは、GnuPGは堅牢な暗号化方式であり、パスワードを忘れた場合に平文に復号する方法はありません<p />

また、PubKeyというコンボボックスがあると思いますが、これは非対称暗号の公開鍵を保存するためのものです。GnuPGについて既にご存知の方は、その扱い方をご存知でしょう。また、ウェブ上でこのキーワードをググって、GnuPG非対称暗号化についての自己学習を始めることもできます.<p />

<h3 id='how2play'>このアプリで遊ぶには</h3>
(このパートは、技術者ではない人たちが簡単に始められるように修正されています）。<br />
簡単な手順をご紹介します.

<ol>
<li>保存されているコンテンツを大きなボックスに入力する;</li>
<br />
<img src="./res/step1.png"/>
<br />
<li>左上のボックスに「Key/handle」を入力します;</li>
<br />
<img src="./res/step2a.png"/>
<li>.キャビネットキーの &#128452;&#8681; / <img  style="vertical-align: text-bottom;" src="./res/store3.png" /> を押すだけで、入力した内容が保存されます, 以上で入力は完了です</li>
</ol>
<ul>
<li>
ページコンボが指定されている場合（新規ページ）<img style="vertical-align: middle;" src="./res/pageCom.png"/>, アプリはページ名の入力を求めます。確認されると、入力した内容がテーブルに保存され、コンボボックスを選択して対応するページを表示することができます
</li>
</ul>
<h3> このアプリが提供するその他の機能 </h3>
<ul>
<li>大きなボックスの上部にボタンが表示されていることにお気づきでしょうか;<br />
<img src="./res/Box_read.png"/><br />
このボタンをクリックすると、ファイル選択ボックスがポップアップし、ファイルを選択することができます。そして、このウェブアプリがファイルを読み込んで、ボックスにコンテンツを読み込みます。(テキスト以外のファイル(例えば.jpg/.pdfファイル)を読み込もうとすると、ボックスにゴミが表示されるので、右下のクリアボタン(赤い十字ボタン&#10060;) でボックスをクリアすることができます</li>
<img src="./res/mob_1a.png"/><br />
<li>The button near to the clear button is a copy button (icon of a clipboard &#128203; ), it will select and copy the box content.</li>
<img src="./res/mob_1b.png"/><br >


<li>The arrow disc &#8680;&#128190; button is for save/export the box content into an external text file, <br />
<img src="./res/mob_1d.png"/><br >
when click it your browser will prompt you for a filename, and you will 'Download' a text file with the typed content in the box to Download directory of the browser. </li><br />

<li>青い点 &#128309;, は、保存されていない修正を表します<br/>
<img src="./res/mob_1fa.png"/><br />
このドットは、ボックスに入力された内容を変更すると赤<span class="red">RED</span> &#128308; に変わり、他の場所に行っても変更内容を保存できるようになります。変更した内容を破棄するには、赤い点 &#128308;  をクリックし、ポップアップボックスの確認で意思を確認してください.</li>
<br />
<li>2つの &#10060;,  がついたボタンがあり、それを押すとKeyとBoxの両方が消去されます。このボタンは、操作性を高めるためのものです.
</li>

</ul>
<h3>パスワード/暗号化によるデータの保護</h3>
<li>サイコロのボタンを切り替えることで、本アプリの暗号化機能の表示/非表示を切り替えることができます.
</li>
<img src="./res/mob_1g.png"/><br />


<li>パスワードでデータを保護したい場合は、passwdボックスにパスワードを入力してください<br /><br />
<img src="./res/mob_pw.png"/><br />
<span class="blue">encBox</span> ボタンを押すと,、ボックスの内容が暗号化されます。<br />
<img src="./res/mob_1h.png"/><br />
コンテンツがランダムな文字のブロックに変換されるのがわかります;<span class="blue">decBox</span>キーを押すと、動作を元に戻すことができます。<br /><br />
この暗号化されたランダム文字のブロックは、cabinet/data store &#128452;&#8681;, に保存するか、 &#8680;&#128190; ボタンで別のファイルとして保存することができます.</li><br/>


</ul>

<h3>データがどのように保管されるかについて</h3>

保存されたアイテムは2列の表として表示されますが、保存されたアイテムが非常に長い場合、表示された内容は「...」で切り捨てられます。この調整は表示のためだけに行われ、実際の内容は一切変更されません。表示される文字の長さは、内部コマンド「_width:」で調整できますが、これについては後述します。<p />
<img src="./res/mob_col1.png"/> <br />
また、赤いフォントで「Filter」と書かれたボックスが表示されていますが、これは検索をさらに絞り込むのに役立ちます（特に、同じページで長い時間keyを押していた場合）、対応するボックスをクリックして、探している文字を入力してください.<p />

私が最も気に入っている部分は、データストアのテーブルをクリックすることです。これをクリックすると、対応する行が <span class="blue">青い色</span>.  で点灯します。そして、キーとボックスの両方があなたの選択で更新されます。左側 (Key) と右側(<span class="blue">ボックス</span>) のどちらをクリックしても、わずかですが便利な違いがあります：(<span class="blue">ボックス</span>)をクリックすると、コンテンツがクリップブロードに自動コピーされます<p />

また、 <img style="vertical-align: sub;" src="./res/pageTog.png"/> 領域をクリックすると表がコンボボックスに切り替わり、ターゲットキーを押して目的の項目を探すことができます。再度  <img style="vertical-align: sub;" src="./res/pageTog.png"/> 領域をクリックするとテーブルモードに戻ります<p />

<img src="./res/mob_col2.png"/> <br />
データストアテーブルの一番下には、 &#10060; ボタンがあります。このボタンを押すと選択またはハイライトされた行が削除されます。OneKey deleteチェックボックスを有効にしていないと、実際の操作の前に確認のメッセージが表示されますので、気をつけてください。
.<p />

3つ目のボタンは興味深いもので、データストアのxxh32チェックサムを生成します。また、チェックサムは、最後にエクスポートした後、ストア内で変更されたデータがある場合 <span class="red">赤色</span> になって思い出させてくれます。<p />

<img src="./res/mob_col3.png"/><br />
最後の2つのボタンはページの下部にあります。Exは、データストアをオフラインファイルにエクスポートするために使用します。保存されたコンテンツはプレーンテキストのjsonとしてエクスポートされます（保存する前に暗号化していない限り）。このアプリは、あなたを助けるために別のレイヤーの保護を追加します。データストアの暗号化パスワードを入力することができます（コンテンツの暗号化に使用したパスワードとは別のパスワードにする必要がありますが、紛失したパスワードは復元できません）。また、対応する公開鍵をコンボボックスから選択することもできます.<p />

両方のオプションを選択しない (enc paswd ボックスを空白にし,、PubKeyコンボから（none）を選択する） , あなたの確認後、アプリはデータストアをプレーンテキストのjsonにエクスポートします.<p />

インポート(Im)はエクスポートと逆の機能で、Downloadディレクトリからファイルを読み込みます。前回エクスポートしたファイルのデータストアを復元するには、正しいパスワードを入力する必要があります<p />

<h3>補足...🤔</h3>

賢い方なら、南京錠 &#128275;.  の近くにあるチェックボックスについての記述を見逃していることに気づくかもしれません。これは、ほとんどの場合、使用する必要のない機能です。<br /><br />

私がスワップページの機能をコーディングする際、ページを切り替える際の混乱を避けるために、あえてKey/Boxボックスを消去しました。
<br/><br/>
しかし、あるページから別のページにKey/Boxペアを「移動」させたい場合は、このチェックボックスを有効にしてKey/Boxペアをロックする必要があります。この機能により、移動先のページに入れ替えてキャビネットの下の🗄⇩ボタンを押してデータを保存しても、データは変更されません。古いページでは、元のキーボックスのペアを削除することを忘れないでください。 <br/>

パッドロックのチェックボックスの隣には、&#9889;&#128256; と書かれた別のチェックボックスがあります。これは「クイックスワップ」と呼ばれる便利な機能ですが、潜在的には危険な機能です。通常の使い方では、このボックスに入力した文字を使ってページを入れ替えると、アプリは次のいずれかを確認します:
<ul>
<li>先に進み、ボックスを消去する</li>
<li>操作をキャンセルし、入力内容を保存してから次の操作に移る.</li></ul> このクイックスワップを有効にすると、すべてのリマインダーポップアップボックスが停止されます。何度も言いますが「大いなる力には大いなる責任が伴う」ということです<p />

<h3>おわりに</h3>

本アプリを活用する際にキーとなるのは内部コマンドです。私が学校でオブジェクト指向プログラミングを習ったとき、「関数のオーバーロード」という機能がありました。そこで、Key入力ボックスに「_help」というKeyを入力して、その近くにある削除ボタン &#10060; を押すと、ボックスにこのアプリのヘルプが表示されるという仕掛けにしました .<p />


ヘルプを見れば一目瞭然ですが、いくつか要点をまとめておきます:
<ul>
<li>
データストアのテーブルでBoxのカラム幅を20文字にしたい場合は、 "_width:20" と入力してください （引用符なし）;
</li><br />
<li>
PubKey1 "という名前の公開鍵をインポートするには、Boxに公開鍵を貼り付けます。その後、「_addPk:PubKey1」と入力し、削
&#10060;  ボタンを押してください。


保存されている公開鍵を削除するには、_addPkを_rmPkに置き換えます（つまり、「_rmPk:PubKey1」となります）</li><br />

<li>
保存されているコンテンツをすべて  &#9762;nuke&#9762; にしたい場合は、「_killall」を使います。確認し、問題なければ実行します。
<br/> 
上記のようにこのアプリで遊ぶことで、このアプリを使いこなすことができるようになります
</li>
 </ul>

<h3>Something before the class dismissed</h3>

謝辞：このアプリは以下のJavaScriptで提供されるサービスを利用しております。これらのプロジェクトに関わる方々に感謝申し上げます。.
<ul>
<li> <a href="https://openpgpjs.org">openpgpjs.org</a> 暗号化機能の提供
</li>
<li> <a href="https://github.com/jungomi/xxhash-wasm">xxhash-wasm.js</a> xxh32ハッシュ生成機能</li>
<li> <a href="https://github.com/bgrins/filereader.js/">filereader</a> ファイル読み取りの単純化</li>
<li> <a href="https://github.com/eligrey/FileSaver.js/">FileSave.js</a> ファイル保存の簡易化</li>
</ul>
</body>

</html>
